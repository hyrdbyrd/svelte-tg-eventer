import{f as d,m as c,a as g,b as o,S as m,d as s,e as u,g as M}from"./Stack.svelte_svelte_type_style_lang.BvmJlThE.js";import"./entry.DSiRGVQ1.js";function E(e){return{mark:e.rate,card:e.card,name:e.name,meetingId:e.id,eventId:e.eventId,userIds:e.userIds,meetingType:e.type,capacity:e.capacity,timeStart:e.timeStart,meetingStatus:e.status,description:e.description,meetingNote:e.meetingNote,organisatorId:e.organizatorId}}function i(e,t){return{queueType:t,rate:e.mark,card:e.card,name:e.name,id:e.meetingId,eventId:e.eventId,userIds:e.userIds,type:e.meetingType,capacity:e.capacity,timeStart:e.timeStart,status:e.meetingStatus,description:e.description,meetingNote:e.meetingNote,organizatorId:e.organisatorId}}const _=d(g,"NEW_AVAILABLE_MEETING").pipe(c(e=>i(e,"AVAILABLE"))),l=d(g,"SOME_MEETING_BECOME_UN_AVAILABLE").pipe(c(e=>i(e,"AVAILABLE"))),f=d(g,"METTING_END").pipe(c(e=>i(e,"MY")));d(g,"METTING_BECOME_END").pipe(c(e=>i(e,"ENDED")));const A=d(g,"FAST_MEETING_USER_FOUND").pipe(c(e=>i(e,"MY")));function I(e,t){return o.get(`/meeting/get_user_meetings/${e}/${t}`).then(n=>n.data).then(n=>n.map(a=>i(a,"MY")))}function N(e,t){return o.get(`/meeting/ended_user_meetings/${e}/${t}`).then(n=>n.data).then(n=>n.map(a=>i(a,"ENDED")))}function $(e,t){return o.get(`/meeting/get_available_custom_meetings/${e}/${t}`).then(n=>n.data).then(n=>n.map(a=>i(a,"AVAILABLE")))}function h(e){return o.post(`/meeting/create_custom_meeting/${e.eventId}`,E(e)).then(t=>t.data).then(t=>i(t,"MY"))}function x(e,t,n,a,r){return o.post(`/meeting/mark/${e}`,{mark:a,userId:t,eventId:e,meetingId:n,meetingNote:r}).then(p=>p.data)}function F(e,t,n){return o.post(`/meeting/join_meeting/${e}/${t}`,{userId:t,eventId:e,meetingId:n})}function S(e,t,n){return o.post(`/meeting/mark_meeting_finished/${e}`,{eventId:e,userId:t,meetingId:n})}function b(e,t,n){return o.post(`/meeting/meeting_not_happend/${e}/${t}`,{eventId:e,userId:t,meetingId:n})}const v=m(f),T=m(_),D=m(A),U=m(l),y=s(({userId:e,eventId:t})=>I(t,e)),L=s(({userId:e,eventId:t})=>N(t,e)),Y=s(({userId:e,eventId:t,meetingId:n})=>b(t,e,n)),w=s(({eventId:e,userId:t,meetingId:n})=>S(e,t,n)),k=s(({eventId:e,userId:t,meetingId:n,mark:a,meetingNote:r})=>x(e,t,n,a,r)),z=s(({eventId:e,userId:t,meetingId:n})=>F(e,t,n)),H=s(h),B=s(({userId:e,eventId:t})=>$(t,e)),C=u([],{name:"availableMeetings"}).on(B.doneData,(e,t)=>t).on(T,(e,t)=>[t,...e]).on(U,(e,t)=>{const n=e.findIndex(a=>a.id===t.id);return n!==-1?e.toSpliced(n,1):e}),G=u([],{name:"myMeetings"}).on(y.doneData,(e,t)=>t).on(D,(e,t)=>[t,...e]).on(v,(e,t)=>{const n=e.findIndex(a=>a.id===t.id);return n!==-1?e.toSpliced(n,1):e}),V=u([],{name:"endedMeetings"}).on(L.doneData,(e,t)=>t).on(k.doneData,(e,{mark:t,meetingId:n,meetingNote:a})=>{const r=e.findIndex(p=>p.id===n);return r!==-1?(e[r]={...e[r],rate:t,meetingNote:a},[...e]):e}),R=M(C,G,V,(e,t,n)=>e.concat(t,n));export{R as a,L as b,H as c,B as d,V as e,D as f,y as g,w as h,Y as i,z as j,G as k,C as l,k as m};
