import{s as D,e as Z,c as ge,q as F,h as x,j as pe,b as M,n as de,w as $e,k as we,u as ke,l as ve,m as be,v as B}from"./scheduler.BFJKazVz.js";import{S as G,i as J,e as q,k as H,c as A,a as P,l as S,d as h,x as W,g as w,m as T,n as v,o as b,p as y,s as K,f as Q,z as L,t as X,b as Y,j as ae,w as ee,h as oe,H as Ee,q as He,u as Se,v as Te}from"./index.D8e8Tln1.js";import{S as ie}from"./Section.BcfbzUy_.js";import{A as ye,e as te,u as Ve,o as Le}from"./Avatar.BKyhKyw-.js";import"./UserAvatarsList.svelte_svelte_type_style_lang.DRtGwFU7.js";import{p as Ne}from"./stores.BYC9oCSx.js";import{S as fe,T as se}from"./Stack.D_s4lMtp.js";import"./entry.STGoML9w.js";function Re(l){let e;return{c(){e=X(l[5])},l(t){e=Y(t,l[5])},m(t,s){w(t,e,s)},p(t,s){s&32&&ae(e,t[5])},d(t){t&&h(e)}}}function qe(l){let e=l[0].meta.description+"",t;return{c(){t=X(e)},l(s){t=Y(s,e)},m(s,r){w(s,t,r)},p(s,r){r&1&&e!==(e=s[0].meta.description+"")&&ae(t,e)},d(s){s&&h(t)}}}function Ae(l){let e;return{c(){e=X("Это вы")},l(t){e=Y(t,"Это вы")},m(t,s){w(t,e,s)},p:de,d(t){t&&h(e)}}}function Pe(l){let e;function t(n,a){return n[3]?Ae:qe}let s=t(l),r=s(l);return{c(){r.c(),e=ee()},l(n){r.l(n),e=ee()},m(n,a){r.m(n,a),w(n,e,a)},p(n,a){s===(s=t(n))&&r?r.p(n,a):(r.d(1),r=s(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){n&&h(e),r.d(n)}}}function Ue(l){let e,t,s,r;return e=new se({props:{role:"main",$$slots:{default:[Re]},$$scope:{ctx:l}}}),s=new se({props:{role:"secondary",truncate:!l[3],$$slots:{default:[Pe]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment),t=K(),H(s.$$.fragment)},l(n){S(e.$$.fragment,n),t=Q(n),S(s.$$.fragment,n)},m(n,a){T(e,n,a),w(n,t,a),T(s,n,a),r=!0},p(n,a){const o={};a&544&&(o.$$scope={dirty:a,ctx:n}),e.$set(o);const f={};a&8&&(f.truncate=!n[3]),a&521&&(f.$$scope={dirty:a,ctx:n}),s.$set(f)},i(n){r||(v(e.$$.fragment,n),v(s.$$.fragment,n),r=!0)},o(n){b(e.$$.fragment,n),b(s.$$.fragment,n),r=!1},d(n){n&&h(t),y(e,n),y(s,n)}}}function We(l){let e,t,s,r,n,a;return t=new ye({props:{src:l[4]}}),n=new fe({props:{direction:"vertical",$$slots:{default:[Ue]},$$scope:{ctx:l}}}),{c(){e=q("user-avatar"),H(t.$$.fragment),s=K(),r=q("user-content"),H(n.$$.fragment),this.h()},l(o){e=A(o,"USER-AVATAR",{class:!0});var f=P(e);S(t.$$.fragment,f),f.forEach(h),s=Q(o),r=A(o,"USER-CONTENT",{class:!0});var _=P(r);S(n.$$.fragment,_),_.forEach(h),this.h()},h(){W(e,"class","svelte-1gh8uq1"),W(r,"class","svelte-1gh8uq1"),L(r,"max-width",`${l[1]-80}px`)},m(o,f){w(o,e,f),T(t,e,null),w(o,s,f),w(o,r,f),T(n,r,null),a=!0},p(o,f){const _={};f&16&&(_.src=o[4]),t.$set(_);const m={};f&553&&(m.$$scope={dirty:f,ctx:o}),n.$set(m),f&2&&L(r,"max-width",`${o[1]-80}px`)},i(o){a||(v(t.$$.fragment,o),v(n.$$.fragment,o),a=!0)},o(o){b(t.$$.fragment,o),b(n.$$.fragment,o),a=!1},d(o){o&&(h(e),h(s),h(r)),y(t),y(n)}}}function ze(l){let e,t;return e=new fe({props:{gap:"10",align:"center",$$slots:{default:[We]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(s){S(e.$$.fragment,s)},m(s,r){T(e,s,r),t=!0},p(s,r){const n={};r&571&&(n.$$scope={dirty:r,ctx:s}),e.$set(n)},i(s){t||(v(e.$$.fragment,s),t=!0)},o(s){b(e.$$.fragment,s),t=!1},d(s){y(e,s)}}}function Ce(l){let e,t,s;return t=new ie({props:{class:l[6].class,$$slots:{default:[ze]},$$scope:{ctx:l}}}),{c(){e=q("svelte-wrapper"),H(t.$$.fragment),this.h()},l(r){e=A(r,"SVELTE-WRAPPER",{class:!0});var n=P(e);S(t.$$.fragment,n),n.forEach(h),this.h()},h(){W(e,"class","svelte-1gh8uq1")},m(r,n){w(r,e,n),T(t,e,null),l[8](e),s=!0},p(r,[n]){const a={};n&64&&(a.class=r[6].class),n&571&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(v(t.$$.fragment,r),s=!0)},o(r){b(t.$$.fragment,r),s=!1},d(r){r&&h(e),y(t),l[8](null)}}}function Oe(l,e,t){let s,r,n;const a=["user"];let o=Z(e,a),f;ge(l,Ne,i=>t(7,f=i));let{user:_}=e,m=0,d;F(()=>{const i=d==null?void 0:d.parentElement;i&&t(1,m=i.offsetWidth||0)});function E(i){M[i?"unshift":"push"](()=>{d=i,t(2,d)})}return l.$$set=i=>{e=x(x({},e),pe(i)),t(6,o=Z(e,a)),"user"in i&&t(0,_=i.user)},l.$$.update=()=>{l.$$.dirty&1&&t(5,s=_.meta.userName),l.$$.dirty&1&&t(4,r=_.meta.photoLink),l.$$.dirty&129&&t(3,n=String(_.meta.id)===f.url.searchParams.get("userId"))},[_,m,d,n,r,s,o,f,E]}class Ie extends G{constructor(e){super(),J(this,e,Oe,Ce,D,{user:0})}}function ne(l,e,t){const s=l.slice();return s[22]=e[t],s}const Me=l=>({item:l&64}),re=l=>({item:l[22].data});function le(l,e){let t,s,r;const n=e[14].default,a=we(n,e,e[13],re);return{key:l,first:null,c(){t=q("vl-row"),a&&a.c(),s=K(),this.h()},l(o){t=A(o,"VL-ROW",{class:!0});var f=P(t);a&&a.l(f),s=Q(f),f.forEach(h),this.h()},h(){W(t,"class","svelte-mwk0e5"),this.first=t},m(o,f){w(o,t,f),a&&a.m(t,null),oe(t,s),r=!0},p(o,f){e=o,a&&a.p&&(!r||f&8256)&&ke(a,n,e,e[13],r?be(n,e[13],f,Me):ve(e[13]),re)},i(o){r||(v(a,o),r=!0)},o(o){b(a,o),r=!1},d(o){o&&h(t),a&&a.d(o)}}}function je(l){let e,t,s=[],r=new Map,n=`${l[4]}px`,a=`${l[5]}px`,o,f,_,m,d=te(l[6]);const E=i=>i[22].index;for(let i=0;i<d.length;i+=1){let c=ne(l,d,i),p=E(c);r.set(p,s[i]=le(p,c))}return{c(){e=q("vl-viewport"),t=q("vl-contents");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=A(i,"VL-VIEWPORT",{class:!0});var c=P(e);t=A(c,"VL-CONTENTS",{class:!0});var p=P(t);for(let k=0;k<s.length;k+=1)s[k].l(p);p.forEach(h),c.forEach(h),this.h()},h(){W(t,"class","svelte-mwk0e5"),L(t,"padding-top",n),L(t,"padding-bottom",a),W(e,"class","svelte-mwk0e5"),$e(()=>l[17].call(e)),L(e,"height",l[0])},m(i,c){w(i,e,c),oe(e,t);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(t,null);l[15](t),l[16](e),o=Ee(e,l[17].bind(e)),f=!0,_||(m=He(e,"scroll",l[7]),_=!0)},p(i,[c]){c&8256&&(d=te(i[6]),Se(),s=Ve(s,c,E,1,i,d,r,t,Le,le,null,ne),Te()),c&16&&n!==(n=`${i[4]}px`)&&L(t,"padding-top",n),c&32&&a!==(a=`${i[5]}px`)&&L(t,"padding-bottom",a),c&1&&L(e,"height",i[0])},i(i){if(!f){for(let c=0;c<d.length;c+=1)v(s[c]);f=!0}},o(i){for(let c=0;c<s.length;c+=1)b(s[c]);f=!1},d(i){i&&h(e);for(let c=0;c<s.length;c+=1)s[c].d();l[15](null),l[16](null),o(),_=!1,m()}}}function Be(l,e,t){let s,{$$slots:r={},$$scope:n}=e,{items:a}=e,{itemHeight:o=0}=e,{height:f="100%"}=e,{end:_=0}=e,{start:m=0}=e,d=!1,E,i,c=0,p,k=[],O=0,j=0,N;async function ce(u,U,$){const{scrollTop:V}=p;await B();let z=O-V,g=m;for(;z<U&&g<u.length;){let C=i[g-m];C||(t(8,_=g+1),await B(),C=i[g-m]);const R=k[g]=$||C.offsetHeight;z+=R,g+=1}t(8,_=g);const I=u.length-_;N=(O+z)/_,t(5,j=I*N),k.length=u.length}async function ue(){const{scrollTop:u}=p,U=m;for(let g=0;g<i.length;g+=1)k[m+g]=o||i[g].offsetHeight;let $=0,V=0;for(;$<a.length;){const g=k[$]||N;if(V+g>u){t(9,m=$),t(4,O=V);break}V+=g,$+=1}for(;$<a.length&&(V+=k[$]||N,$+=1,!(V>u+c)););t(8,_=$);const z=a.length-_;for(N=V/_;$<a.length;)k[$++]=N;if(t(5,j=z*N),m<U){await B();let g=0,I=0;for(let R=m;R<U;R+=1)i[R-m]&&(I+=k[R],g+=o||i[R-m].offsetHeight);const C=g-I;p.scrollTo(0,u+C)}}F(()=>{i=E.getElementsByTagName("vl-row"),t(12,d=!0)});function _e(u){M[u?"unshift":"push"](()=>{E=u,t(2,E)})}function me(u){M[u?"unshift":"push"](()=>{p=u,t(3,p)})}function he(){c=this.offsetHeight,t(1,c)}return l.$$set=u=>{"items"in u&&t(10,a=u.items),"itemHeight"in u&&t(11,o=u.itemHeight),"height"in u&&t(0,f=u.height),"end"in u&&t(8,_=u.end),"start"in u&&t(9,m=u.start),"$$scope"in u&&t(13,n=u.$$scope)},l.$$.update=()=>{l.$$.dirty&1792&&t(6,s=a.slice(m,_).map((u,U)=>({index:U+m,data:u}))),l.$$.dirty&7170&&d&&ce(a,c,o)},[f,c,E,p,O,j,s,ue,_,m,a,o,d,n,r,_e,me,he]}class De extends G{constructor(e){super(),J(this,e,Be,je,D,{items:10,itemHeight:11,height:0,end:8,start:9})}}function Fe(l){let e,t;return e=new Ie({props:{user:l[4]}}),{c(){H(e.$$.fragment)},l(s){S(e.$$.fragment,s)},m(s,r){T(e,s,r),t=!0},p(s,r){const n={};r&16&&(n.user=s[4]),e.$set(n)},i(s){t||(v(e.$$.fragment,s),t=!0)},o(s){b(e.$$.fragment,s),t=!1},d(s){y(e,s)}}}function Ge(l){let e,t;return e=new De({props:{items:l[0],height:l[1]-10+"px",$$slots:{default:[Fe,({item:s})=>({4:s}),({item:s})=>s?16:0]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(s){S(e.$$.fragment,s)},m(s,r){T(e,s,r),t=!0},p(s,r){const n={};r&1&&(n.items=s[0]),r&2&&(n.height=s[1]-10+"px"),r&48&&(n.$$scope={dirty:r,ctx:s}),e.$set(n)},i(s){t||(v(e.$$.fragment,s),t=!0)},o(s){b(e.$$.fragment,s),t=!1},d(s){y(e,s)}}}function Je(l){let e,t,s;return t=new ie({props:{type:"main",$$slots:{default:[Ge]},$$scope:{ctx:l}}}),{c(){e=q("div"),H(t.$$.fragment)},l(r){e=A(r,"DIV",{});var n=P(e);S(t.$$.fragment,n),n.forEach(h)},m(r,n){w(r,e,n),T(t,e,null),l[3](e),s=!0},p(r,[n]){const a={};n&35&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(v(t.$$.fragment,r),s=!0)},o(r){b(t.$$.fragment,r),s=!1},d(r){r&&h(e),y(t),l[3](null)}}}function Ke(l,e,t){let{users:s}=e,r=0,n;F(()=>{var o;t(1,r=((o=n.parentElement)==null?void 0:o.offsetHeight)||0)});function a(o){M[o?"unshift":"push"](()=>{n=o,t(2,n)})}return l.$$set=o=>{"users"in o&&t(0,s=o.users)},[s,r,n,a]}class nt extends G{constructor(e){super(),J(this,e,Ke,Je,D,{users:0})}}export{nt as U};
