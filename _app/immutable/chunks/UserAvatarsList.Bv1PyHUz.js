import{s as C}from"./scheduler.CxJaiRdw.js";import{S as D,i as O,w as R,g as d,n as c,u as p,o as _,v,d as h,e as b,s as q,c as k,a as $,f as L,x as A,h as M,k as w,l as T,y as g,m as V,p as B}from"./index.DBMmBRm2.js";import{e as y,u as N,o as j}from"./Avatar.D0gilG31.js";import{U as F,a as G}from"./UserAvatarsStub.D92kZh0q.js";import"./UserAvatarsList.svelte_svelte_type_style_lang.CSczB_Ul.js";function E(i,a,e){const t=i.slice();return t[2]=a[e],t[4]=e,t}function U(i){let a,e=[],t=new Map,r,s,u=y(i[0].slice(0,3));const m=n=>n[2].meta.id;for(let n=0;n<u.length;n+=1){let l=E(i,u,n),f=m(l);t.set(f,e[n]=S(f,l))}let o=i[1]&&z(i);return{c(){a=b("user-avatars");for(let n=0;n<e.length;n+=1)e[n].c();r=q(),o&&o.c(),this.h()},l(n){a=k(n,"USER-AVATARS",{class:!0});var l=$(a);for(let f=0;f<e.length;f+=1)e[f].l(l);r=L(l),o&&o.l(l),l.forEach(h),this.h()},h(){A(a,"class","svelte-2v8hfd")},m(n,l){d(n,a,l);for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(a,null);M(a,r),o&&o.m(a,null),s=!0},p(n,l){l&1&&(u=y(n[0].slice(0,3)),p(),e=N(e,l,m,1,n,u,t,a,j,S,r,E),v()),n[1]?o?(o.p(n,l),l&2&&c(o,1)):(o=z(n),o.c(),c(o,1),o.m(a,null)):o&&(p(),_(o,1,1,()=>{o=null}),v())},i(n){if(!s){for(let l=0;l<u.length;l+=1)c(e[l]);c(o),s=!0}},o(n){for(let l=0;l<e.length;l+=1)_(e[l]);_(o),s=!1},d(n){n&&h(a);for(let l=0;l<e.length;l+=1)e[l].d();o&&o.d()}}}function S(i,a){let e,t,r;return t=new F({props:{user:a[2],size:110}}),{key:i,first:null,c(){e=b("user-avatar-border"),w(t.$$.fragment),this.h()},l(s){e=k(s,"USER-AVATAR-BORDER",{class:!0});var u=$(e);T(t.$$.fragment,u),u.forEach(h),this.h()},h(){A(e,"class","svelte-2v8hfd"),g(e,"z-index",a[4]+1),this.first=e},m(s,u){d(s,e,u),V(t,e,null),r=!0},p(s,u){a=s;const m={};u&1&&(m.user=a[2]),t.$set(m),u&1&&g(e,"z-index",a[4]+1)},i(s){r||(c(t.$$.fragment,s),r=!0)},o(s){_(t.$$.fragment,s),r=!1},d(s){s&&h(e),B(t)}}}function z(i){let a,e,t;return e=new G({props:{color:"main",count:i[1],size:110}}),{c(){a=b("user-avatar-border"),w(e.$$.fragment),this.h()},l(r){a=k(r,"USER-AVATAR-BORDER",{class:!0});var s=$(a);T(e.$$.fragment,s),s.forEach(h),this.h()},h(){A(a,"class","svelte-2v8hfd"),g(a,"z-index",1e3)},m(r,s){d(r,a,s),V(e,a,null),t=!0},p(r,s){const u={};s&2&&(u.count=r[1]),e.$set(u)},i(r){t||(c(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){r&&h(a),B(e)}}}function H(i){let a,e,t=i[0].length&&U(i);return{c(){t&&t.c(),a=R()},l(r){t&&t.l(r),a=R()},m(r,s){t&&t.m(r,s),d(r,a,s),e=!0},p(r,[s]){r[0].length?t?(t.p(r,s),s&1&&c(t,1)):(t=U(r),t.c(),c(t,1),t.m(a.parentNode,a)):t&&(p(),_(t,1,1,()=>{t=null}),v())},i(r){e||(c(t),e=!0)},o(r){_(t),e=!1},d(r){r&&h(a),t&&t.d(r)}}}function I(i,a,e){let t,{users:r=[]}=a;return i.$$set=s=>{"users"in s&&e(0,r=s.users)},i.$$.update=()=>{i.$$.dirty&1&&e(1,t=r.length-3<0?0:r.length-3)},[r,t]}class X extends D{constructor(a){super(),O(this,a,I,H,C,{users:0})}}export{X as U};
