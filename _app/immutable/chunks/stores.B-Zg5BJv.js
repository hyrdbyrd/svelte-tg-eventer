import{f as r,m as d,a as c,b as s,S as p,d as o,e as g,g as m}from"./Stack.svelte_svelte_type_style_lang.q35J2cnn.js";import"./entry.DSiJH6LJ.js";function u(e){return{mark:e.rate,card:e.card,name:e.name,meetingId:e.id,eventId:e.eventId,userIds:e.userIds,meetingType:e.type,capacity:e.capacity,timeStart:e.timeStart,meetingStatus:e.status,description:e.description,organisatorId:e.organizatorId}}function a(e,t){return{queueType:t,rate:e.mark,card:e.card,name:e.name,id:e.meetingId,eventId:e.eventId,userIds:e.userIds,type:e.meetingType,capacity:e.capacity,timeStart:e.timeStart,status:e.meetingStatus,description:e.description,organizatorId:e.organisatorId}}const M=r(c,"NEW_AVAILABLE_MEETING").pipe(d(e=>a(e,"AVAILABLE"))),E=r(c,"SOME_MEETING_BECOME_UN_AVAILABLE").pipe(d(e=>a(e,"AVAILABLE"))),_=r(c,"METTING_END").pipe(d(e=>a(e,"MY")));r(c,"METTING_BECOME_END").pipe(d(e=>a(e,"ENDED")));const l=r(c,"FAST_MEETING_USER_FOUND").pipe(d(e=>a(e,"MY")));function I(e,t){return s.get(`/meeting/get_user_meetings/${e}/${t}`).then(n=>n.data).then(n=>n.map(i=>a(i,"MY")))}function A(e,t){return s.get(`/meeting/ended_user_meetings/${e}/${t}`).then(n=>n.data).then(n=>n.map(i=>a(i,"ENDED")))}function f(e){return s.get(`/meeting/get_available_custom_meetings/${e}`).then(t=>t.data).then(t=>t.map(n=>a(n,"AVAILABLE")))}function h(e){return s.post(`/meeting/create_custom_meeting/${e.eventId}`,u(e)).then(t=>t.data).then(t=>a(t,"MY"))}function v(e,t,n){return s.post(`/meeting/mark_meeting_finished/${e}`,{eventId:e,userId:t,meetingId:n})}function N(e,t,n){return s.post(`/meeting/meeting_not_happend/${e}/${t}`,{eventId:e,userId:t,meetingId:n})}const S=p(_),$=p(M),b=p(l),F=p(E),T=o(({userId:e,eventId:t})=>I(t,e)),x=o(({userId:e,eventId:t})=>A(t,e)),k=o(({userId:e,eventId:t,meetingId:n})=>N(t,e,n)),G=o(({eventId:e,userId:t,meetingId:n})=>v(e,t,n)),V=o(h),U=o(f),y=g([],{name:"availableMeetings"}).on(U.doneData,(e,t)=>t).on($,(e,t)=>[t,...e]).on(F,(e,t)=>{const n=e.findIndex(i=>i.id===t.id);return n!==-1?e.toSpliced(n,1):e}),D=g([],{name:"myMeetings"}).on(T.doneData,(e,t)=>t).on(b,(e,t)=>[t,...e]).on(S,(e,t)=>{const n=e.findIndex(i=>i.id===t.id);return n!==-1?e.toSpliced(n,1):e}),L=g([],{name:"endedMeetings"}).on(x.doneData,(e,t)=>t),O=m(y,D,L,(e,t,n)=>e.concat(t,n));export{O as a,k as b,V as c,T as d,L as e,x as f,U as g,b as h,D as i,y as j,G as m};
