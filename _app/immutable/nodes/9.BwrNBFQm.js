import{s as A,x as V,n as j,c as R,v as x}from"../chunks/scheduler.CxJaiRdw.js";import{S as z,i as v,e as O,c as G,z as F,g as m,d as $,k as p,s as T,a as H,l as _,f as C,x as J,m as g,n as f,o as i,p as d,w as S,u as L,v as M,t as b,b as k,j as P}from"../chunks/index.DBMmBRm2.js";import{p as K}from"../chunks/stores.BrkipTaq.js";import{F as Q,B as I}from"../chunks/Footer.DSvdnuBn.js";import{u as X,a as Y,r as Z}from"../chunks/store.4Uqerd1r.js";import{g as ee}from"../chunks/index.Cdz-Zx8s.js";import{S as q,T as y}from"../chunks/Stack.bzWPVkk5.js";import{a as D}from"../chunks/entry.B012IpC4.js";function ue(o){let e,u;return{c(){e=O("img"),this.h()},l(t){e=G(t,"IMG",{src:!0,width:!0,loading:!0,class:!0}),this.h()},h(){V(e.src,u=o[0])||F(e,"src",u),F(e,"width","120px"),F(e,"loading","lazy"),F(e,"class","svelte-huyfhz")},m(t,s){m(t,e,s)},p:j,i:j,o:j,d(t){t&&$(e)}}}function te(o,e,u){let{emoji:t}=e,s={cloud:`${D}/cloud-emoji.webp`,ticket:`${D}/ticket-emoji.webp`,congrats:`${D}/congrats-emoji.webp`}[t];return o.$$set=r=>{"emoji"in r&&u(1,t=r.emoji)},[s,t]}class re extends z{constructor(e){super(),v(this,e,te,ue,A,{emoji:1})}}function N(o){let e,u;return e=new y({props:{align:"center",bold:!0,role:"main",$$slots:{default:[se]},$$scope:{ctx:o}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){g(e,t,s),u=!0},p(t,s){const r={};s&4104&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){u||(f(e.$$.fragment,t),u=!0)},o(t){i(e.$$.fragment,t),u=!1},d(t){d(e,t)}}}function se(o){let e;return{c(){e=b(o[3])},l(u){e=k(u,o[3])},m(u,t){m(u,e,t)},p(u,t){t&8&&P(e,u[3])},d(u){u&&$(e)}}}function ne(o){let e;return{c(){e=b(o[4])},l(u){e=k(u,o[4])},m(u,t){m(u,e,t)},p(u,t){t&16&&P(e,u[4])},d(u){u&&$(e)}}}function oe(o){let e,u,t,s=o[3]&&N(o);return u=new y({props:{role:"secondary",align:"center",$$slots:{default:[ne]},$$scope:{ctx:o}}}),{c(){s&&s.c(),e=T(),p(u.$$.fragment)},l(r){s&&s.l(r),e=C(r),_(u.$$.fragment,r)},m(r,n){s&&s.m(r,n),m(r,e,n),g(u,r,n),t=!0},p(r,n){r[3]?s?(s.p(r,n),n&8&&f(s,1)):(s=N(r),s.c(),f(s,1),s.m(e.parentNode,e)):s&&(L(),i(s,1,1,()=>{s=null}),M());const l={};n&4112&&(l.$$scope={dirty:n,ctx:r}),u.$set(l)},i(r){t||(f(s),f(u.$$.fragment,r),t=!0)},o(r){i(s),i(u.$$.fragment,r),t=!1},d(r){r&&$(e),s&&s.d(r),d(u,r)}}}function ae(o){let e,u,t,s;return e=new re({props:{emoji:o[2]}}),t=new q({props:{gap:"6",direction:"vertical",justify:"center",align:"center",$$slots:{default:[oe]},$$scope:{ctx:o}}}),{c(){p(e.$$.fragment),u=T(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),u=C(r),_(t.$$.fragment,r)},m(r,n){g(e,r,n),m(r,u,n),g(t,r,n),s=!0},p(r,n){const l={};n&4&&(l.emoji=r[2]),e.$set(l);const a={};n&4120&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(f(e.$$.fragment,r),f(t.$$.fragment,r),s=!0)},o(r){i(e.$$.fragment,r),i(t.$$.fragment,r),s=!1},d(r){r&&$(u),d(e,r),d(t,r)}}}function le(o){let e,u;return e=new I({props:{wide:!0,color:"gray",$$slots:{default:[ie]},$$scope:{ctx:o}}}),e.$on("click",o[6]),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){g(e,t,s),u=!0},p(t,s){const r={};s&4096&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){u||(f(e.$$.fragment,t),u=!0)},o(t){i(e.$$.fragment,t),u=!1},d(t){d(e,t)}}}function fe(o){let e,u;return e=new I({props:{wide:!0,color:"green",$$slots:{default:[$e]},$$scope:{ctx:o}}}),e.$on("click",o[6]),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){g(e,t,s),u=!0},p(t,s){const r={};s&4096&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){u||(f(e.$$.fragment,t),u=!0)},o(t){i(e.$$.fragment,t),u=!1},d(t){d(e,t)}}}function ce(o){let e,u;return e=new I({props:{wide:!0,disabled:o[1],$$slots:{default:[me]},$$scope:{ctx:o}}}),e.$on("click",o[5]),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){g(e,t,s),u=!0},p(t,s){const r={};s&2&&(r.disabled=t[1]),s&4096&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){u||(f(e.$$.fragment,t),u=!0)},o(t){i(e.$$.fragment,t),u=!1},d(t){d(e,t)}}}function ie(o){let e;return{c(){e=b("Розыгрыш закончился")},l(u){e=k(u,"Розыгрыш закончился")},m(u,t){m(u,e,t)},d(u){u&&$(e)}}}function $e(o){let e;return{c(){e=b("Вы участвуете в розыгрыше")},l(u){e=k(u,"Вы участвуете в розыгрыше")},m(u,t){m(u,e,t)},d(u){u&&$(e)}}}function me(o){let e;return{c(){e=b("Участвовать в розыгрыше")},l(u){e=k(u,"Участвовать в розыгрыше")},m(u,t){m(u,e,t)},d(u){u&&$(e)}}}function pe(o){let e,u,t,s;const r=[ce,fe,le],n=[];function l(a,c){return a[0]==="NOT_REGISTERED"?0:a[0]==="REGISTERED"?1:2}return e=l(o),u=n[e]=r[e](o),{c(){u.c(),t=S()},l(a){u.l(a),t=S()},m(a,c){n[e].m(a,c),m(a,t,c),s=!0},p(a,c){let E=e;e=l(a),e===E?n[e].p(a,c):(L(),i(n[E],1,1,()=>{n[E]=null}),M(),u=n[e],u?u.p(a,c):(u=n[e]=r[e](a),u.c()),f(u,1),u.m(t.parentNode,t))},i(a){s||(f(u),s=!0)},o(a){i(u),s=!1},d(a){a&&$(t),n[e].d(a)}}}function _e(o){let e,u,t,s,r;return u=new q({props:{gap:"24",direction:"vertical",align:"center",justify:"center",$$slots:{default:[ae]},$$scope:{ctx:o}}}),s=new Q({props:{$$slots:{default:[pe]},$$scope:{ctx:o}}}),{c(){e=O("svelte-raffle"),p(u.$$.fragment),t=T(),p(s.$$.fragment),this.h()},l(n){e=G(n,"SVELTE-RAFFLE",{class:!0});var l=H(e);_(u.$$.fragment,l),l.forEach($),t=C(n),_(s.$$.fragment,n),this.h()},h(){J(e,"class","svelte-11xop4h")},m(n,l){m(n,e,l),g(u,e,null),m(n,t,l),g(s,n,l),r=!0},p(n,[l]){const a={};l&4124&&(a.$$scope={dirty:l,ctx:n}),u.$set(a);const c={};l&4099&&(c.$$scope={dirty:l,ctx:n}),s.$set(c)},i(n){r||(f(u.$$.fragment,n),f(s.$$.fragment,n),r=!0)},o(n){i(u.$$.fragment,n),i(s.$$.fragment,n),r=!1},d(n){n&&($(e),$(t)),d(u),d(s,n)}}}function ge(o,e,u){let t,s,r,n;R(o,Z,B=>u(8,r=B)),R(o,K,B=>u(9,n=B));let l=n.url.searchParams.get("userId"),a=n.url.searchParams.get("eventId"),c=!1,E="ticket",h="Розыгрыш призов от мероприятия",w="Организаторы подготовили для вас несколько призов. Ближе к концу мероприятия мы разыграем их.";function U(){u(1,c=!0),X({eventId:a,userId:l}).finally(()=>u(1,c=!1))}function W(){ee()}return x(()=>{r.isUserSeen||Y({eventId:a,userId:l})}),o.$$.update=()=>{if(o.$$.dirty&256&&u(0,t=r.status),o.$$.dirty&256&&u(7,s=r.prizeName),o.$$.dirty&129)switch(t){case"NOT_WON":u(2,E="cloud"),u(3,h="Не повезло"),u(4,w="Ничего страшного, повезет в следующий раз!");break;case"WON":u(2,E="congrats"),u(3,h=s?`Ваш приз: ${s}`:""),u(4,w="Для получения приза свяжитесь с организаторами или дождитесь объявления");break}},[t,c,E,h,w,U,W,s,r]}class je extends z{constructor(e){super(),v(this,e,ge,_e,A,{})}}export{je as component};
