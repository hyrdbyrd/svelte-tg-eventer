import{s as D,n as I,c as q}from"../chunks/scheduler.B2bB6zJV.js";import{S as L,i as j,q as P,g as h,n as c,v as R,o as p,r as x,d as $,e as re,c as ne,a as E,y as se,k as d,s as F,l as k,f as S,z as V,m as v,h as T,p as w,C as M,D as A,x as i,t as B,b as N,j as oe}from"../chunks/index.Dd9f2Vrx.js";import{p as le}from"../chunks/stores.DOmZsd_K.js";import{T as z}from"../chunks/Stack.RC-DKkti.js";import{M as ue}from"../chunks/Menu.Bq6BG6RP.js";import{F as ae}from"../chunks/Field.CjZM7CLc.js";import{F as fe,B as H}from"../chunks/Footer.whoeehX2.js";import{S as G}from"../chunks/Section.BXLuDw1S.js";import"../chunks/Stack.svelte_svelte_type_style_lang.q35J2cnn.js";import{g as O}from"../chunks/index.BKnKTQuf.js";import"../chunks/entry.DSiJH6LJ.js";import{g as ie,a as J}from"../chunks/index.BkPKkSeD.js";import{a as ce}from"../chunks/UserAvatarsList.svelte_svelte_type_style_lang.CgKY2wda.js";import{e as K,u as $e,o as me}from"../chunks/Avatar.CKWzUCiJ.js";import{U as pe}from"../chunks/UserAvatar.wQEDRBZw.js";import{m as _e,b as ge,a as he}from"../chunks/stores.B-Zg5BJv.js";function Q(o,t,r){const e=o.slice();return e[1]=t[r],e[3]=r,e}function W(o){let t,r=[],e=new Map,n,s=K(o[0].slice(0,2));const a=u=>u[1].meta.id;for(let u=0;u<s.length;u+=1){let f=Q(o,s,u),g=a(f);e.set(g,r[u]=X(g,f))}return{c(){t=re("user-avatars");for(let u=0;u<r.length;u+=1)r[u].c();this.h()},l(u){t=ne(u,"USER-AVATARS",{class:!0});var f=E(t);for(let g=0;g<r.length;g+=1)r[g].l(f);f.forEach($),this.h()},h(){se(t,"class","svelte-8w6oyr")},m(u,f){h(u,t,f);for(let g=0;g<r.length;g+=1)r[g]&&r[g].m(t,null);n=!0},p(u,f){f&1&&(s=K(u[0].slice(0,2)),R(),r=$e(r,f,a,1,u,s,e,t,me,X,null,Q),x())},i(u){if(!n){for(let f=0;f<s.length;f+=1)c(r[f]);n=!0}},o(u){for(let f=0;f<r.length;f+=1)p(r[f]);n=!1},d(u){u&&$(t);for(let f=0;f<r.length;f+=1)r[f].d()}}}function X(o,t){let r,e,n,s;return e=new pe({props:{user:t[1],size:110}}),{key:o,first:null,c(){r=re("user-avatar-border"),d(e.$$.fragment),n=F(),this.h()},l(a){r=ne(a,"USER-AVATAR-BORDER",{class:!0});var u=E(r);k(e.$$.fragment,u),n=S(u),u.forEach($),this.h()},h(){se(r,"class","svelte-8w6oyr"),V(r,"z-index",t[3]),this.first=r},m(a,u){h(a,r,u),v(e,r,null),T(r,n),s=!0},p(a,u){t=a;const f={};u&1&&(f.user=t[1]),e.$set(f),u&1&&V(r,"z-index",t[3])},i(a){s||(c(e.$$.fragment,a),s=!0)},o(a){p(e.$$.fragment,a),s=!1},d(a){a&&$(r),w(e)}}}function de(o){let t,r,e=o[0].length&&W(o);return{c(){e&&e.c(),t=P()},l(n){e&&e.l(n),t=P()},m(n,s){e&&e.m(n,s),h(n,t,s),r=!0},p(n,[s]){n[0].length?e?(e.p(n,s),s&1&&c(e,1)):(e=W(n),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(R(),p(e,1,1,()=>{e=null}),x())},i(n){r||(c(e),r=!0)},o(n){p(e),r=!1},d(n){n&&$(t),e&&e.d(n)}}}function ke(o,t,r){let{users:e=[]}=t;return o.$$set=n=>{"users"in n&&r(0,e=n.users)},[e]}class ve extends L{constructor(t){super(),j(this,t,ke,de,D,{users:0})}}function we(o){let t,r,e,n;return{c(){t=M("svg"),r=M("circle"),e=M("path"),n=M("path"),this.h()},l(s){t=A(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var a=E(t);r=A(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0}),E(r).forEach($),e=A(a,"path",{d:!0,stroke:!0,"stroke-linecap":!0}),E(e).forEach($),n=A(a,"path",{d:!0,stroke:!0,"stroke-linecap":!0}),E(n).forEach($),a.forEach($),this.h()},h(){i(r,"cx","8"),i(r,"cy","8"),i(r,"r","7.5"),i(r,"stroke",o[0].themeParams.hint_color),i(e,"d","M3.5 8.5L6.32843 11.3284"),i(e,"stroke",o[0].themeParams.hint_color),i(e,"stroke-linecap","round"),i(n,"d","M6.5 11.1569L12.1569 5.50001"),i(n,"stroke",o[0].themeParams.hint_color),i(n,"stroke-linecap","round"),i(t,"width","16"),i(t,"height","16"),i(t,"viewBox","0 0 16 16"),i(t,"fill","none"),i(t,"xmlns","http://www.w3.org/2000/svg")},m(s,a){h(s,t,a),T(t,r),T(t,e),T(t,n)},p:I,i:I,o:I,d(s){s&&$(t)}}}function be(o){return[O()]}class Ee extends L{constructor(t){super(),j(this,t,be,we,D,{})}}function Me(o){let t,r,e,n;return{c(){t=M("svg"),r=M("circle"),e=M("path"),n=M("path"),this.h()},l(s){t=A(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var a=E(t);r=A(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0}),E(r).forEach($),e=A(a,"path",{d:!0,stroke:!0,"stroke-linecap":!0}),E(e).forEach($),n=A(a,"path",{d:!0,stroke:!0,"stroke-linecap":!0}),E(n).forEach($),a.forEach($),this.h()},h(){i(r,"cx","8"),i(r,"cy","8"),i(r,"r","7.5"),i(r,"stroke",o[0].themeParams.hint_color),i(e,"d","M4.5 4.5L11.5711 11.5711"),i(e,"stroke",o[0].themeParams.hint_color),i(e,"stroke-linecap","round"),i(n,"d","M4.5 11.571L11.5711 4.49998"),i(n,"stroke",o[0].themeParams.hint_color),i(n,"stroke-linecap","round"),i(t,"width","16"),i(t,"height","16"),i(t,"viewBox","0 0 16 16"),i(t,"fill","none"),i(t,"xmlns","http://www.w3.org/2000/svg")},m(s,a){h(s,t,a),T(t,r),T(t,e),T(t,n)},p:I,i:I,o:I,d(s){s&&$(t)}}}function Ae(o){return[O()]}class Ie extends L{constructor(t){super(),j(this,t,Ae,Me,D,{})}}function Y(o){let t,r,e=o[0].type==="FAST_MEETING"&&Z(o);return{c(){e&&e.c(),t=P()},l(n){e&&e.l(n),t=P()},m(n,s){e&&e.m(n,s),h(n,t,s),r=!0},p(n,s){n[0].type==="FAST_MEETING"?e?(e.p(n,s),s&1&&c(e,1)):(e=Z(n),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(R(),p(e,1,1,()=>{e=null}),x())},i(n){r||(c(e),r=!0)},o(n){p(e),r=!1},d(n){n&&$(t),e&&e.d(n)}}}function Z(o){let t,r,e,n,s,a,u,f,g;t=new ve({props:{users:o[1]}}),e=new G({props:{type:"inner",$$slots:{default:[Be]},$$scope:{ctx:o}}});let m=o[0].description&&ee(o);return a=new G({props:{title:"Подробности",type:"main",$$slots:{default:[ye]},$$scope:{ctx:o}}}),f=new fe({props:{$$slots:{default:[je]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment),r=F(),d(e.$$.fragment),n=F(),m&&m.c(),s=F(),d(a.$$.fragment),u=F(),d(f.$$.fragment)},l(l){k(t.$$.fragment,l),r=S(l),k(e.$$.fragment,l),n=S(l),m&&m.l(l),s=S(l),k(a.$$.fragment,l),u=S(l),k(f.$$.fragment,l)},m(l,_){v(t,l,_),h(l,r,_),v(e,l,_),h(l,n,_),m&&m.m(l,_),h(l,s,_),v(a,l,_),h(l,u,_),v(f,l,_),g=!0},p(l,_){const U={};_&2&&(U.users=l[1]),t.$set(U);const y={};_&4099&&(y.$$scope={dirty:_,ctx:l}),e.$set(y),l[0].description?m?(m.p(l,_),_&1&&c(m,1)):(m=ee(l),m.c(),c(m,1),m.m(s.parentNode,s)):m&&(R(),p(m,1,1,()=>{m=null}),x());const b={};_&4096&&(b.$$scope={dirty:_,ctx:l}),a.$set(b);const C={};_&4096&&(C.$$scope={dirty:_,ctx:l}),f.$set(C)},i(l){g||(c(t.$$.fragment,l),c(e.$$.fragment,l),c(m),c(a.$$.fragment,l),c(f.$$.fragment,l),g=!0)},o(l){p(t.$$.fragment,l),p(e.$$.fragment,l),p(m),p(a.$$.fragment,l),p(f.$$.fragment,l),g=!1},d(l){l&&($(r),$(n),$(s),$(u)),w(t,l),w(e,l),m&&m.d(l),w(a,l),w(f,l)}}}function Te(o){let t=(o[0].name||o[1].map(te).join(" "))+"",r;return{c(){r=B(t)},l(e){r=N(e,t)},m(e,n){h(e,r,n)},p(e,n){n&3&&t!==(t=(e[0].name||e[1].map(te).join(" "))+"")&&oe(r,t)},d(e){e&&$(r)}}}function Fe(o){let t,r;return t=new z({props:{slot:"name",$$slots:{default:[Te]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,n){v(t,e,n),r=!0},p(e,n){const s={};n&4099&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function Se(o){let t;return{c(){t=B("Имя")},l(r){t=N(r,"Имя")},m(r,e){h(r,t,e)},d(r){r&&$(t)}}}function Pe(o){let t,r;return t=new z({props:{slot:"content",role:"secondary",$$slots:{default:[Se]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,n){v(t,e,n),r=!0},p(e,n){const s={};n&4096&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function Be(o){let t,r;return t=new ae({props:{$$slots:{content:[Pe],name:[Fe]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,n){v(t,e,n),r=!0},p(e,n){const s={};n&4099&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function ee(o){let t,r;return t=new G({props:{type:"inner",$$slots:{default:[Ue]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,n){v(t,e,n),r=!0},p(e,n){const s={};n&4097&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function Ne(o){let t=o[0].description+"",r;return{c(){r=B(t)},l(e){r=N(e,t)},m(e,n){h(e,r,n)},p(e,n){n&1&&t!==(t=e[0].description+"")&&oe(r,t)},d(e){e&&$(r)}}}function Ce(o){let t,r;return t=new z({props:{slot:"name",$$slots:{default:[Ne]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,n){v(t,e,n),r=!0},p(e,n){const s={};n&4097&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function Re(o){let t;return{c(){t=B("Описание")},l(r){t=N(r,"Описание")},m(r,e){h(r,t,e)},d(r){r&&$(t)}}}function xe(o){let t,r;return t=new z({props:{slot:"content",role:"secondary",$$slots:{default:[Re]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,n){v(t,e,n),r=!0},p(e,n){const s={};n&4096&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function Ue(o){let t,r;return t=new ae({props:{$$slots:{content:[xe],name:[Ce]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,n){v(t,e,n),r=!0},p(e,n){const s={};n&4097&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function ye(o){let t,r;return t=new ue({props:{items:o[4]}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,n){v(t,e,n),r=!0},p:I,i(e){r||(c(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function De(o){let t;return{c(){t=B("Чат")},l(r){t=N(r,"Чат")},m(r,e){h(r,t,e)},d(r){r&&$(t)}}}function Le(o){let t;return{c(){t=B("Карточка")},l(r){t=N(r,"Карточка")},m(r,e){h(r,t,e)},d(r){r&&$(t)}}}function je(o){let t,r,e,n;return t=new H({props:{wide:!0,$$slots:{default:[De]},$$scope:{ctx:o}}}),t.$on("click",o[3]),e=new H({props:{wide:!0,$$slots:{default:[Le]},$$scope:{ctx:o}}}),e.$on("click",o[2]),{c(){d(t.$$.fragment),r=F(),d(e.$$.fragment)},l(s){k(t.$$.fragment,s),r=S(s),k(e.$$.fragment,s)},m(s,a){v(t,s,a),h(s,r,a),v(e,s,a),n=!0},p(s,a){const u={};a&4096&&(u.$$scope={dirty:a,ctx:s}),t.$set(u);const f={};a&4096&&(f.$$scope={dirty:a,ctx:s}),e.$set(f)},i(s){n||(c(t.$$.fragment,s),c(e.$$.fragment,s),n=!0)},o(s){p(t.$$.fragment,s),p(e.$$.fragment,s),n=!1},d(s){s&&$(r),w(t,s),w(e,s)}}}function ze(o){let t,r,e=o[0]&&Y(o);return{c(){e&&e.c(),t=P()},l(n){e&&e.l(n),t=P()},m(n,s){e&&e.m(n,s),h(n,t,s),r=!0},p(n,[s]){n[0]?e?(e.p(n,s),s&1&&c(e,1)):(e=Y(n),e.c(),c(e,1),e.m(t.parentNode,t)):e&&(R(),p(e,1,1,()=>{e=null}),x())},i(n){r||(c(e),r=!0)},o(n){p(e),r=!1},d(n){n&&$(t),e&&e.d(n)}}}const te=o=>o.meta.userName;function qe(o,t,r){let e,n,s,a,u;q(o,ce,b=>r(5,s=b)),q(o,he,b=>r(6,a=b)),q(o,le,b=>r(7,u=b));let f=u.url.searchParams.get("userId"),g=u.url.searchParams.get("eventId"),m=u.url.searchParams.get("meetingId");const l=O();function _(){ie("/card/",{meetingId:e.id})}function U(){l.sendData(JSON.stringify(m))}let y=[{icon:Ee,text:"Встреча закончилась",onClick:()=>_e({eventId:g,userId:f,meetingId:m}).then(()=>J())},{icon:Ie,text:"Встреча не состоялась",onClick:()=>ge({eventId:g,userId:f,meetingId:m}).then(()=>J())}];return o.$$.update=()=>{o.$$.dirty&64&&r(0,e=a.find(b=>String(b.id)===m)),o.$$.dirty&33&&r(1,n=s.filter(b=>{var C;return(C=e==null?void 0:e.userIds)==null?void 0:C.includes(b.meta.id)}))},[e,n,_,U,y,s,a]}class ot extends L{constructor(t){super(),j(this,t,qe,ze,D,{})}}export{ot as component};
